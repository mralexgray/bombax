<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Bombaxtic Framework: BxTransport Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.2 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>BxTransport Class Reference</h1><!-- doxytag: class="BxTransport" -->
<p>Handles communication with HTTP client.  
<a href="#_details">More...</a></p>

<p><a href="class_bx_transport-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(id)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_bx_transport.html#a847ae5c0d07195ff4344a9bb46eae93a">flush</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Flushes the response stream.  <a href="#a847ae5c0d07195ff4344a9bb46eae93a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(id)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_bx_transport.html#aaf13eb0240552fafd1157efa56966944">setCookie:value:</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Adds a session cookie to send to the client.  <a href="#aaf13eb0240552fafd1157efa56966944"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(id)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_bx_transport.html#ac3652708542b77e69fb8c5062301ccdc">setHeader:value:</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets an HTTP header to be sent back to the client.  <a href="#ac3652708542b77e69fb8c5062301ccdc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(id)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_bx_transport.html#a79d9f9e2b15dc50ef7dca4cdf43dde17">setPersistentCookie:value:maxAge:</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Adds a persistent cookie to send to the client.  <a href="#a79d9f9e2b15dc50ef7dca4cdf43dde17"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(id)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_bx_transport.html#a1feb76431268968d80c11f6a6be33e12">setPersistentCookie:value:maxAge:path:domain:</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Adds a persistent cookie to send to the client.  <a href="#a1feb76431268968d80c11f6a6be33e12"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(id)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_bx_transport.html#aacd567669c5219963b6e085f5f8fee84">setHttpStatusCode:</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the HTTP status code returned to the client.  <a href="#aacd567669c5219963b6e085f5f8fee84"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(id)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_bx_transport.html#ad37d502b2dc0f1e4c5ed3c001c10d263">write:</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Writes the given NSString to the response stream.  <a href="#ad37d502b2dc0f1e4c5ed3c001c10d263"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(id)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_bx_transport.html#a4601e2e0c992c3f27be65b74b9160e3c">writeData:</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Writes the given NSData to the response stream.  <a href="#a4601e2e0c992c3f27be65b74b9160e3c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(id)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_bx_transport.html#a791c6984cedbbf72bb115e510aeea68d">writeFormat:</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Writes the given format string to the response stream.  <a href="#a791c6984cedbbf72bb115e510aeea68d"></a><br/></td></tr>
<tr><td colspan="2"><h2>Properties</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">NSArray *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_bx_transport.html#a06e64ed93588f3afb03c0afa1ade82f2">uploadedFiles</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">NSData *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_bx_transport.html#af468caaa391049866ce3adb29efca817">rawPostData</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">NSDictionary *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_bx_transport.html#a9067f883c7694fbaf8dcf28a4698f63e">cookies</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">NSDictionary *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_bx_transport.html#ae698a1006e4addab5ccd3e337ad3c4c3">postVars</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">NSDictionary *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_bx_transport.html#acb6405f5dc177297f02d1a867ee02288">queryVars</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">NSDictionary *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_bx_transport.html#aa67473d64df2d85d33383e893be8374e">serverVars</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">NSMutableDictionary *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_bx_transport.html#add353ffa449ec284fca3458c6e718d2b">state</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">NSString *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_bx_transport.html#acd02ec0ed13cc23292130d8f5e699835">requestPath</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Handles communication with HTTP client. </p>
<dl class="author"><dt><b>Author:</b></dt><dd>Bombaxtic LLC - <a href="http://www.bombaxtic.com">http://www.bombaxtic.com</a> </dd></dl>
<dl class="since"><dt><b>Since:</b></dt><dd>1.0</dd></dl>
<p><a class="el" href="interface_bx_transport.html" title="Handles communication with HTTP client.">BxTransport</a> is the core class for communicating with the HTTP client. It provides information about the client's request, basic server variables, cookie management, header management, and output functions to write the response. A unique <a class="el" href="interface_bx_transport.html" title="Handles communication with HTTP client.">BxTransport</a> instance is passed to the <a class="el" href="interface_bx_handler.html" title="Persistent handler for client requests.">BxHandler</a> using the renderWithTransport method once in the lifecycle of the request.</p>
<p>Subclasses of <a class="el" href="interface_bx_handler.html" title="Persistent handler for client requests.">BxHandler</a> override renderWithTransport and use the <a class="el" href="interface_bx_transport.html" title="Handles communication with HTTP client.">BxTransport</a> instance for all output. In the case of a BXML file, the <a class="el" href="interface_bx_transport.html" title="Handles communication with HTTP client.">BxTransport</a> instance is available through the variable named '_', e.g. [_ write:"hello"]</p>
<p>Example of using <a class="el" href="interface_bx_transport.html" title="Handles communication with HTTP client.">BxTransport</a> in a <a class="el" href="interface_bx_handler.html" title="Persistent handler for client requests.">BxHandler</a> subclass: </p>
<div class="fragment"><pre class="fragment"> <span class="keyword">@interface </span>MyHandler : <a class="code" href="interface_bx_handler.html" title="Persistent handler for client requests.">BxHandler</a> { }
 <span class="keyword">@end</span>
 
 <span class="keyword">@implementation </span>MyHandler
 - (id)renderWithTransport:(<a class="code" href="interface_bx_transport.html" title="Handles communication with HTTP client.">BxTransport</a> *)transport {
     [transport <a class="code" href="interface_bx_transport.html#ac3652708542b77e69fb8c5062301ccdc" title="Sets an HTTP header to be sent back to the client.">setHeader</a>:@&quot;Content-Type&quot; <a class="code" href="interface_bx_transport.html#ac3652708542b77e69fb8c5062301ccdc" title="Sets an HTTP header to be sent back to the client.">value</a>:@&quot;text/plain&quot;];
     [transport <a class="code" href="interface_bx_transport.html#ad37d502b2dc0f1e4c5ed3c001c10d263" title="Writes the given NSString to the response stream.">write</a>:@&quot;Hello World!&quot;];
     <span class="keywordflow">return</span> <span class="keyword">self</span>;
 }
 <span class="keyword">@end</span>
</pre></div><p>Example of using the <code>_</code> <a class="el" href="interface_bx_transport.html" title="Handles communication with HTTP client.">BxTransport</a> variable in a BXML handler: </p>
<div class="fragment"><pre class="fragment"> &lt;html&gt;
  &lt;body&gt;
   &lt;?
    [_ setCookie:<span class="stringliteral">@&quot;visited&quot;</span> value:<span class="stringliteral">@&quot;yes&quot;</span>];
    [_ write:<span class="stringliteral">@&quot;Hello World!&quot;</span>];
   ?&gt;
  &lt;/body&gt;
 &lt;/html&gt;
</pre></div><dl class="see"><dt><b>See also:</b></dt><dd>For more information about using <a class="el" href="interface_bx_transport.html" title="Handles communication with HTTP client.">BxTransport</a> please see the Bombax Developer's Guide. </dd></dl>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a847ae5c0d07195ff4344a9bb46eae93a"></a><!-- doxytag: member="BxTransport::flush" ref="a847ae5c0d07195ff4344a9bb46eae93a" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (id) flush </td>
          <td></td>
          <td class="paramname"></td>
          <td>&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Flushes the response stream. </p>
<p><a class="anchor" id="flush"></a> This is called automatically when the connection is closing but may be called earlier in order to manually control output buffering e.g. when sending a large response.</p>
<p>Example writing the contents of an array of strings, flushing every 1000th string: </p>
<div class="fragment"><pre class="fragment"> - (id)renderWithTransport:(<a class="code" href="interface_bx_transport.html" title="Handles communication with HTTP client.">BxTransport</a> *)transport {
     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; [_myArray count]; i++) {
         [transport write:[_myArray objectAtindex:i]];
         <span class="keywordflow">if</span> (i % 1000 == 999) {
             [transport <a class="code" href="interface_bx_transport.html#a847ae5c0d07195ff4344a9bb46eae93a" title="Flushes the response stream.">flush</a>];
         }
     }
     <span class="keywordflow">return</span> <span class="keyword">self</span>;
 }
</pre></div> <dl class="return"><dt><b>Returns:</b></dt><dd>the <a class="el" href="interface_bx_transport.html" title="Handles communication with HTTP client.">BxTransport</a> instance </dd></dl>
<dl class="since"><dt><b>Since:</b></dt><dd>1.0 </dd></dl>

</div>
</div>
<a class="anchor" id="aaf13eb0240552fafd1157efa56966944"></a><!-- doxytag: member="BxTransport::setCookie:value:" ref="aaf13eb0240552fafd1157efa56966944" args="(NSString *name,[value] NSString *value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (id) setCookie: </td>
          <td></td>
          <td class="paramtype">(NSString *)&nbsp;</td>
          <td class="paramname"> <em>name</em></td>
        </tr>
        <tr>
          <td class="paramkey">value:</td>
          <td></td>
          <td class="paramtype">(NSString *)&nbsp;</td>
          <td class="paramname"> <em>value</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Adds a session cookie to send to the client. </p>
<p><a class="anchor" id="setCookie"></a> This sends a cookie to the client that will only be retained for the browser session. Use the <a class="el" href="interface_bx_transport.html#setPersistentCookie">setPersistentCookie</a> for cookies that you want to keep longer or for additional options.</p>
<p>Cookies are sent as part of the HTTP response headers. As a result, all cookies need to be set before any write methods are called or they will not have an effect.</p>
<p>Example that sets a session cookie if it hasn't been set already and writes it: </p>
<div class="fragment"><pre class="fragment"> - (id)renderWithTransport:(<a class="code" href="interface_bx_transport.html" title="Handles communication with HTTP client.">BxTransport</a> *)transport {
     NSString *sessionId = [transport.<a class="code" href="interface_bx_transport.html#a9067f883c7694fbaf8dcf28a4698f63e">cookies</a> objectForKey:<span class="stringliteral">@&quot;sessionid&quot;</span>];
     <span class="keywordflow">if</span> (sessionId == nil) {
          sessionId = [NSString stringWithFormat:<span class="stringliteral">@&quot;%f.%d&quot;</span>, [NSDate timeIntervalSinceReferenceDate], random()];
         [transport setCookie:<span class="stringliteral">@&quot;sessionid&quot;</span> value:sessionId];
     }
     [transport write:sessionId];
     <span class="keywordflow">return</span> <span class="keyword">self</span>;
 }
</pre></div><dl class="see"><dt><b>See also:</b></dt><dd>See RFCs 2109 and 2965 for more information about <a class="el" href="interface_bx_transport.html#a9067f883c7694fbaf8dcf28a4698f63e">cookies</a>.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>the name of the cookie </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>value</em>&nbsp;</td><td>the value of the cookie. This is automatically URL encoded </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the <a class="el" href="interface_bx_transport.html" title="Handles communication with HTTP client.">BxTransport</a> instance </dd></dl>
<dl class="since"><dt><b>Since:</b></dt><dd>1.0 </dd></dl>

</div>
</div>
<a class="anchor" id="ac3652708542b77e69fb8c5062301ccdc"></a><!-- doxytag: member="BxTransport::setHeader:value:" ref="ac3652708542b77e69fb8c5062301ccdc" args="(NSString *header,[value] NSString *value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (id) setHeader: </td>
          <td></td>
          <td class="paramtype">(NSString *)&nbsp;</td>
          <td class="paramname"> <em>header</em></td>
        </tr>
        <tr>
          <td class="paramkey">value:</td>
          <td></td>
          <td class="paramtype">(NSString *)&nbsp;</td>
          <td class="paramname"> <em>value</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sets an HTTP header to be sent back to the client. </p>
<p><a class="anchor" id="setHeader"></a> This sets an HTTP header variable that is sent back in the response. Initially, the only HTTP header set is 'Content-type'-&gt;'text/html'. Because this method replaces values if the header already exists, by setting the 'Content-type' header, this can be overridden. To set cookies, instead of directly setting the header, use the <a class="el" href="interface_bx_transport.html#setCookie">setCookie</a> and <a class="el" href="interface_bx_transport.html#setPersistentCookie">setPersistentCookie</a> methods to ensure that multiple cookies can be used.</p>
<p>The first time <a class="el" href="interface_bx_transport.html#write">write</a>, <a class="el" href="interface_bx_transport.html#writeData">writeData</a>, or <a class="el" href="interface_bx_transport.html#writeFormat">writeFormat</a> is called, all of the headers are written out. Any further calls to <a class="el" href="interface_bx_transport.html#setHeader">setHeader</a> will be ignored. Because of this, it is important to remember to write headers before output begins, especially with BXML (in which case it should precede any other text).</p>
<p>Example of disabling caching using setHeader in BXML: </p>
<div class="fragment"><pre class="fragment"> &lt;? [_ setHeader:<span class="stringliteral">@&quot;Cache-Control&quot;</span> value:<span class="stringliteral">@&quot;no-cache&quot;</span>] ?&gt;
 &lt;html&gt;
  &lt;body&gt;
   The current time and date is &lt;? [_ write:[[NSDate date] description]] ?&gt;
  &lt;/body&gt;
 &lt;/html&gt;
</pre></div><dl class="see"><dt><b>See also:</b></dt><dd>For more information about HTTP headers, please see section 14 of RFC 2616.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>header</em>&nbsp;</td><td>the name of the HTTP header </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>value</em>&nbsp;</td><td>the value to be set for the header. This will be automatically URL encoded </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the <a class="el" href="interface_bx_transport.html" title="Handles communication with HTTP client.">BxTransport</a> instance </dd></dl>
<dl class="since"><dt><b>Since:</b></dt><dd>1.0 </dd></dl>

</div>
</div>
<a class="anchor" id="aacd567669c5219963b6e085f5f8fee84"></a><!-- doxytag: member="BxTransport::setHttpStatusCode:" ref="aacd567669c5219963b6e085f5f8fee84" args="(int status)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (id) setHttpStatusCode: </td>
          <td></td>
          <td class="paramtype">(int)&nbsp;</td>
          <td class="paramname"> <em>status</em></td>
          <td>&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sets the HTTP status code returned to the client. </p>
<p><a class="anchor" id="setHttpStatusCode"></a> By default, a status code of 200 (OK) indicating success is returned. You can use <a class="el" href="interface_bx_transport.html#setHttpStatusCode">setHttpStatusCode</a> to return a different status code such as 301 (Moved Permanently) or 403 (Forbidden).</p>
<p>Example 1, 301 redirection: </p>
<div class="fragment"><pre class="fragment"> - (id)renderWithTransport:(<a class="code" href="interface_bx_transport.html" title="Handles communication with HTTP client.">BxTransport</a> *)transport {
     [transport setHttpStatusCode:301];
     [transport setHeader:<span class="stringliteral">@&quot;Location&quot;</span> value:<span class="stringliteral">@&quot;http://www.example.com/newlocation&quot;</span>];
     <span class="keywordflow">return</span> <span class="keyword">self</span>;
 }
</pre></div><p>Example 2, 404 not found page as BXML: </p>
<div class="fragment"><pre class="fragment"> &lt;?
  [_ setHttpStatusCode:404];
 ?&gt;
 &lt;html&gt;
  &lt;body&gt;
   Sorry, but page &lt;? [_ write:[_.serverVars objectForKey:<span class="stringliteral">@&quot;REQUEST_URI&quot;</span>]]; ?&gt; could not be found.
  &lt;/body&gt;
 &lt;/html&gt;
</pre></div><dl class="see"><dt><b>See also:</b></dt><dd>For more information about HTTP status codes, please see section 10 of RFC 2616.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>status</em>&nbsp;</td><td>the HTTP status code for the response </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the <a class="el" href="interface_bx_transport.html" title="Handles communication with HTTP client.">BxTransport</a> instance </dd></dl>
<dl class="since"><dt><b>Since:</b></dt><dd>1.0 </dd></dl>

</div>
</div>
<a class="anchor" id="a79d9f9e2b15dc50ef7dca4cdf43dde17"></a><!-- doxytag: member="BxTransport::setPersistentCookie:value:maxAge:" ref="a79d9f9e2b15dc50ef7dca4cdf43dde17" args="(NSString *name,[value] NSString *value,[maxAge] NSTimeInterval maxAge)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (id) setPersistentCookie: </td>
          <td></td>
          <td class="paramtype">(NSString *)&nbsp;</td>
          <td class="paramname"> <em>name</em></td>
        </tr>
        <tr>
          <td class="paramkey">value:</td>
          <td></td>
          <td class="paramtype">(NSString *)&nbsp;</td>
          <td class="paramname"> <em>value</em></td>
        </tr>
        <tr>
          <td class="paramkey">maxAge:</td>
          <td></td>
          <td class="paramtype">(NSTimeInterval)&nbsp;</td>
          <td class="paramname"> <em>maxAge</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Adds a persistent cookie to send to the client. </p>
<p><a class="anchor" id="setPersistentCookie"></a> This sends a cookie to the client that will be retained for <code>maxAge</code> seconds. Use the <a class="el" href="interface_bx_transport.html#setCookie">setCookie</a> for cookies that you only want the client to keep during the browser session.</p>
<p>Cookies are sent as part of the HTTP response headers. As a result, all cookies need to be set before any write methods are called or they will not have an effect.</p>
<p>Example that sets a persistent cookie for one week if it hasn't been set already: </p>
<div class="fragment"><pre class="fragment"> - (id)renderWithTransport:(<a class="code" href="interface_bx_transport.html" title="Handles communication with HTTP client.">BxTransport</a> *)transport {
     NSString *theme = [transport.<a class="code" href="interface_bx_transport.html#a9067f883c7694fbaf8dcf28a4698f63e">cookies</a> objectForKey:<span class="stringliteral">@&quot;theme&quot;</span>];
     <span class="keywordflow">if</span> (theme == nil) {
         theme = <span class="stringliteral">@&quot;default&quot;</span>;
         [transport setPersistentCookie:<span class="stringliteral">@&quot;theme&quot;</span> value:theme maxAge:(60 * 60 * 24 * 7)];
     }
     <span class="comment">// ... use theme to render page</span>
     [transport <span class="keyword">self</span>];
 }
</pre></div><dl class="see"><dt><b>See also:</b></dt><dd>See RFCs 2109 and 2965 for more information about <a class="el" href="interface_bx_transport.html#a9067f883c7694fbaf8dcf28a4698f63e">cookies</a>.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>the name of the cookie </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>value</em>&nbsp;</td><td>the value of the cookie. This is automatically URL encoded </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>maxAge</em>&nbsp;</td><td>how long in seconds you would like the client to retain the cookie </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the <a class="el" href="interface_bx_transport.html" title="Handles communication with HTTP client.">BxTransport</a> instance </dd></dl>
<dl class="since"><dt><b>Since:</b></dt><dd>1.0 </dd></dl>

</div>
</div>
<a class="anchor" id="a1feb76431268968d80c11f6a6be33e12"></a><!-- doxytag: member="BxTransport::setPersistentCookie:value:maxAge:path:domain:" ref="a1feb76431268968d80c11f6a6be33e12" args="(NSString *name,[value] NSString *value,[maxAge] NSTimeInterval maxAge,[path] NSString *path,[domain] NSString *domain)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (id) setPersistentCookie: </td>
          <td></td>
          <td class="paramtype">(NSString *)&nbsp;</td>
          <td class="paramname"> <em>name</em></td>
        </tr>
        <tr>
          <td class="paramkey">value:</td>
          <td></td>
          <td class="paramtype">(NSString *)&nbsp;</td>
          <td class="paramname"> <em>value</em></td>
        </tr>
        <tr>
          <td class="paramkey">maxAge:</td>
          <td></td>
          <td class="paramtype">(NSTimeInterval)&nbsp;</td>
          <td class="paramname"> <em>maxAge</em></td>
        </tr>
        <tr>
          <td class="paramkey">path:</td>
          <td></td>
          <td class="paramtype">(NSString *)&nbsp;</td>
          <td class="paramname"> <em>path</em></td>
        </tr>
        <tr>
          <td class="paramkey">domain:</td>
          <td></td>
          <td class="paramtype">(NSString *)&nbsp;</td>
          <td class="paramname"> <em>domain</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Adds a persistent cookie to send to the client. </p>
<p><a class="anchor" id="setPersistentCookie2"></a> This sends a cookie to the client that will be retained for <code>maxAge</code> seconds. If you'd like the client to only keep the cookie during the browser session, use the <a class="el" href="interface_bx_transport.html#setCookie">setCookie</a> instead.</p>
<p>This method allows you to set the <code>path</code> and <code>domain</code> you would like to use. If you set the domain, the client will only send the cookie if the domain it is visiting matches. For example, a domain of '.example.com' will be sent when visiting <a href="http://example.com">http://example.com</a> and <a href="http://www.example.com">http://www.example.com</a> but not <a href="http://example.net">http://example.net</a></p>
<p>Similarly, setting the path to anything other than '/' will mean that the client will only send the cookie if the leading part of the URL path matches. For example, setting the path to '/joe-user' will cause the cookie to be sent if <a href="http://example.com/joe-user/">http://example.com/joe-user/</a> or <a href="http://example.com/joe-user/something">http://example.com/joe-user/something</a> is requested, but not if <a href="http://example.com/jane-user">http://example.com/jane-user</a> is the requested URL.</p>
<p>Cookies are sent as part of the HTTP response headers. As a result, all cookies need to be set before any write methods are called or they will not have an effect.</p>
<p>Example that sets a persistent cookie for one week for any requests that start with <a href="http://users.example.com/jane-user">http://users.example.com/jane-user</a> : </p>
<div class="fragment"><pre class="fragment"> - (id)renderWithTransport:(<a class="code" href="interface_bx_transport.html" title="Handles communication with HTTP client.">BxTransport</a> *)transport {
     NSString *theme = [transport.<a class="code" href="interface_bx_transport.html#a9067f883c7694fbaf8dcf28a4698f63e">cookies</a> objectForKey:<span class="stringliteral">@&quot;theme&quot;</span>];
     <span class="keywordflow">if</span> (theme == nil) {
         theme = <span class="stringliteral">@&quot;default&quot;</span>;
         [transport setPersistentCookie:<span class="stringliteral">@&quot;theme&quot;</span>
                                  value:theme
                                 maxAge:(60 * 60 * 24 * 7)
                                   path:<span class="stringliteral">@&quot;/jane-user&quot;</span>
                                 domain:<span class="stringliteral">@&quot;users.example.com&quot;</span>];
     }
     <span class="comment">// ... use theme to render page</span>
     [transport <span class="keyword">self</span>];
 }
</pre></div><dl class="see"><dt><b>See also:</b></dt><dd>See RFCs 2109 and 2965 for more information about <a class="el" href="interface_bx_transport.html#a9067f883c7694fbaf8dcf28a4698f63e">cookies</a>.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>the name of the cookie </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>value</em>&nbsp;</td><td>the value of the cookie. This is automatically URL encoded </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>maxAge</em>&nbsp;</td><td>how long in seconds you would like the client to retain the cookie </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>the URL path this cookie is retained for </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>domain</em>&nbsp;</td><td>the internet domain this cookie is retained for </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the <a class="el" href="interface_bx_transport.html" title="Handles communication with HTTP client.">BxTransport</a> instance </dd></dl>
<dl class="since"><dt><b>Since:</b></dt><dd>1.0 </dd></dl>

</div>
</div>
<a class="anchor" id="ad37d502b2dc0f1e4c5ed3c001c10d263"></a><!-- doxytag: member="BxTransport::write:" ref="ad37d502b2dc0f1e4c5ed3c001c10d263" args="(NSString *string)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (id) write: </td>
          <td></td>
          <td class="paramtype">(NSString *)&nbsp;</td>
          <td class="paramname"> <em>string</em></td>
          <td>&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Writes the given NSString to the response stream. </p>
<p><a class="anchor" id="write"></a> <code>string</code> is written to the response stream. If any headers or cookies are waiting to be written they will be written the first time a write method is called. <a class="el" href="interface_bx_transport.html#write">write</a> may be called multiple times during the BxTransport's lifetime and each <code>string</code> will be passed to the request stream in the order they were called. <code>string</code> should be UTF-8 encoded.</p>
<p>Example producing 'First.Second.Third.': </p>
<div class="fragment"><pre class="fragment"> - (id)renderWithTransport:(<a class="code" href="interface_bx_transport.html" title="Handles communication with HTTP client.">BxTransport</a> *)transport {
     [transport write:<span class="stringliteral">@&quot;First.&quot;</span>];
     [transport write:<span class="stringliteral">@&quot;Second.&quot;</span>];
     [transport write:<span class="stringliteral">@&quot;Third.&quot;</span>];
     <span class="keywordflow">return</span> <span class="keyword">self</span>;
 }
</pre></div><dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>the text to output to the stream. Expected to be UTF-8 encoded </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the <a class="el" href="interface_bx_transport.html" title="Handles communication with HTTP client.">BxTransport</a> instance </dd></dl>
<dl class="since"><dt><b>Since:</b></dt><dd>1.0 </dd></dl>

</div>
</div>
<a class="anchor" id="a4601e2e0c992c3f27be65b74b9160e3c"></a><!-- doxytag: member="BxTransport::writeData:" ref="a4601e2e0c992c3f27be65b74b9160e3c" args="(NSData *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (id) writeData: </td>
          <td></td>
          <td class="paramtype">(NSData *)&nbsp;</td>
          <td class="paramname"> <em>data</em></td>
          <td>&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Writes the given NSData to the response stream. </p>
<p><a class="anchor" id="writeData"></a> The raw bytes of <code>data</code> are written to the response stream without any encoding or transformation. If any headers or cookies are waiting to be written they will be written the first time a write method is called. <a class="el" href="interface_bx_transport.html#writeData">writeData</a> may be called multiple times during the BxTransport's lifetime and the <code>data</code> will be passed to the request stream in the order they were called.</p>
<p>Example writing a JPEG file: </p>
<div class="fragment"><pre class="fragment"> - (id)renderWithTransport:(<a class="code" href="interface_bx_transport.html" title="Handles communication with HTTP client.">BxTransport</a> *)transport {
     NSData *jpegData = [NSData dataWithContentsOfFile:<span class="stringliteral">@&quot;path/to/file.jpg&quot;</span>];
     [transport setHeader:<span class="stringliteral">@&quot;Content-type&quot;</span> value:<span class="stringliteral">@&quot;image/jpeg&quot;</span>];
     [transport writeData:jpegData];
     <span class="keywordflow">return</span> <span class="keyword">self</span>;
 }
</pre></div><dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>the data to output to the stream </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the <a class="el" href="interface_bx_transport.html" title="Handles communication with HTTP client.">BxTransport</a> instance </dd></dl>
<dl class="since"><dt><b>Since:</b></dt><dd>1.0 </dd></dl>

</div>
</div>
<a class="anchor" id="a791c6984cedbbf72bb115e510aeea68d"></a><!-- doxytag: member="BxTransport::writeFormat:" ref="a791c6984cedbbf72bb115e510aeea68d" args="(NSString *format,[,]...)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (id) writeFormat: </td>
          <td></td>
          <td class="paramtype">(NSString *)&nbsp;</td>
          <td class="paramname"> <em>format</em></td>
        </tr>
        <tr>
          <td class="paramkey">,</td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>...</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Writes the given format string to the response stream. </p>
<p><a class="anchor" id="writeFormat"></a> This provides templated string formatting that works identically to NSString's stringWithFormat method. As a result, the %@ format specifier works correctly. The resulting string is written to the response stream. If any headers or cookies are waiting to be written they will be written the first time a write method is called. <a class="el" href="interface_bx_transport.html#writeFormat">writeFormat</a> may be called multiple times during the BxTransport's lifetime and each resulting string will be passed to the request stream in the order they were called.</p>
<p>Example producing 'Hello World v1.0': </p>
<div class="fragment"><pre class="fragment"> - (id)renderWithTransport:(<a class="code" href="interface_bx_transport.html" title="Handles communication with HTTP client.">BxTransport</a> *)transport {
     [transport writeFormat:<span class="stringliteral">@&quot;Hello %@ v%.1f&quot;</span>, <span class="stringliteral">@&quot;World&quot;</span>, 1.0];
     <span class="keywordflow">return</span> <span class="keyword">self</span>;
 }
</pre></div><dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>format</em>&nbsp;</td><td>a UTF-8 encoded format string which may contain formatting specifiers </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>...</em>&nbsp;</td><td>a comma-separated list of arguments to substitute into format </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the <a class="el" href="interface_bx_transport.html" title="Handles communication with HTTP client.">BxTransport</a> instance </dd></dl>
<dl class="since"><dt><b>Since:</b></dt><dd>1.0 </dd></dl>

</div>
</div>
<hr/><h2>Property Documentation</h2>
<a class="anchor" id="a9067f883c7694fbaf8dcf28a4698f63e"></a><!-- doxytag: member="BxTransport::cookies" ref="a9067f883c7694fbaf8dcf28a4698f63e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (NSDictionary*) cookies<code> [read, assign]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="anchor" id="cookies"></a> This dictionary contains all cookies sent by the client as part of its request.</p>
<p>Example outputting all cookies sent to the client: </p>
<div class="fragment"><pre class="fragment"> - (id)renderWithTransport:(<a class="code" href="interface_bx_transport.html" title="Handles communication with HTTP client.">BxTransport</a> *)transport {
     [transport write:[transport.<a class="code" href="interface_bx_transport.html#a9067f883c7694fbaf8dcf28a4698f63e">cookies</a> description]];
     <span class="keywordflow">return</span> <span class="keyword">self</span>;
 }
</pre></div> <dl class="since"><dt><b>Since:</b></dt><dd>1.0 </dd></dl>

</div>
</div>
<a class="anchor" id="ae698a1006e4addab5ccd3e337ad3c4c3"></a><!-- doxytag: member="BxTransport::postVars" ref="ae698a1006e4addab5ccd3e337ad3c4c3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (NSDictionary*) postVars<code> [read, assign]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="anchor" id="postVars"></a> This dictionary contains all POST form variables included in the request.</p>
<p>Example outputting all POST variables sent to the client: </p>
<div class="fragment"><pre class="fragment"> - (id)renderWithTransport:(<a class="code" href="interface_bx_transport.html" title="Handles communication with HTTP client.">BxTransport</a> *)transport {
     [transport write:[transport.<a class="code" href="interface_bx_transport.html#ae698a1006e4addab5ccd3e337ad3c4c3">postVars</a> description]];
     <span class="keywordflow">return</span> <span class="keyword">self</span>;
 }
</pre></div> <dl class="since"><dt><b>Since:</b></dt><dd>1.0 </dd></dl>

</div>
</div>
<a class="anchor" id="acb6405f5dc177297f02d1a867ee02288"></a><!-- doxytag: member="BxTransport::queryVars" ref="acb6405f5dc177297f02d1a867ee02288" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (NSDictionary*) queryVars<code> [read, assign]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="anchor" id="queryVars"></a> This dictionary contains all query variables set either through a GET method form or as part of the URL. For example, <a href="http://www.example.com/?name=joe">http://www.example.com/?name=joe</a> will include a <a class="el" href="interface_bx_transport.html#queryVars">queryVars</a> key 'name' containing 'joe' included <a class="el" href="interface_bx_transport.html#queryVars">queryVars</a></p>
<p>Example outputting all query variables sent to the client: </p>
<div class="fragment"><pre class="fragment"> - (id)renderWithTransport:(<a class="code" href="interface_bx_transport.html" title="Handles communication with HTTP client.">BxTransport</a> *)transport {
     [transport write:[transport.<a class="code" href="interface_bx_transport.html#acb6405f5dc177297f02d1a867ee02288">queryVars</a> description]];
     <span class="keywordflow">return</span> <span class="keyword">self</span>;
 }
</pre></div> <dl class="since"><dt><b>Since:</b></dt><dd>1.0 </dd></dl>

</div>
</div>
<a class="anchor" id="af468caaa391049866ce3adb29efca817"></a><!-- doxytag: member="BxTransport::rawPostData" ref="af468caaa391049866ce3adb29efca817" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (NSData*) rawPostData<code> [read, assign]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="anchor" id="rawPostData"></a> If there is raw data sent to the server via a POST request and the Content Type is not application/x-www-form-urlencoded or multipart/form-data it is included here. For example, a custom client might send a raw binary or XML document. If raw data was not sent, <a class="el" href="interface_bx_transport.html#rawPostData">rawPostData</a> will be nil.</p>
<p>Example of handling XML POST: </p>
<div class="fragment"><pre class="fragment"> - (id)renderWithTransport:(<a class="code" href="interface_bx_transport.html" title="Handles communication with HTTP client.">BxTransport</a> *)transport {
     <span class="keywordflow">if</span> ([[transport.<a class="code" href="interface_bx_transport.html#aa67473d64df2d85d33383e893be8374e">serverVars</a> objectForKey:<span class="stringliteral">@&quot;CONTENT_TYPE&quot;</span>] isEqualToString:<span class="stringliteral">@&quot;text/xml&quot;</span>] &amp;&amp;
       transport.<a class="code" href="interface_bx_transport.html#af468caaa391049866ce3adb29efca817">rawPostData</a> != nil) {
         NSError *error;
         NSXMLDocument *doc = [[NSXMLDocument alloc] initWithData:transport.<a class="code" href="interface_bx_transport.html#af468caaa391049866ce3adb29efca817">rawPostData</a>
                                                             mask:0
                                                            error:&amp;error];
         <span class="keywordflow">if</span> (error == nil) {
             <span class="comment">// ... do something with doc</span>
         }
     }
     <span class="keywordflow">return</span> <span class="keyword">self</span>;
 }
</pre></div> <dl class="since"><dt><b>Since:</b></dt><dd>1.0 </dd></dl>

</div>
</div>
<a class="anchor" id="acd02ec0ed13cc23292130d8f5e699835"></a><!-- doxytag: member="BxTransport::requestPath" ref="acd02ec0ed13cc23292130d8f5e699835" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (NSString*) requestPath<code> [read, assign]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="anchor" id="document"></a> A convenience variable containing the document URI without your BxApp's leading location. For example, if your <a class="el" href="interface_bx_app.html" title="Routes client requests to BxHandler instances.">BxApp</a> is located at "/example" so that all requests that start with <a href="http://example.com/example/">http://example.com/example/</a> are routed to your <a class="el" href="interface_bx_app.html" title="Routes client requests to BxHandler instances.">BxApp</a>, if <a href="http://www.example.com/example/app/save?x=1">http://www.example.com/example/app/save?x=1</a> is accessed, <code>requestPath</code> will be "app/save"</p>
<div class="fragment"><pre class="fragment"> - (id)renderWithTransport:(<a class="code" href="interface_bx_transport.html" title="Handles communication with HTTP client.">BxTransport</a> *)transport {
     <span class="keywordflow">if</span> ([transport.<a class="code" href="interface_bx_transport.html#acd02ec0ed13cc23292130d8f5e699835">requestPath</a> isEqualToString:<span class="stringliteral">@&quot;app/save&quot;</span>]) {
         <span class="keywordflow">return</span> [_saveHandler renderWithTransport:transport];
     } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ([transport.<a class="code" href="interface_bx_transport.html#acd02ec0ed13cc23292130d8f5e699835">requestPath</a> isEqualToString:<span class="stringliteral">@&quot;app/load&quot;</span>]) {
         <span class="keywordflow">return</span> [_loadHandler renderWithTransport:transport];
     } <span class="keywordflow">else</span> {
         <span class="comment">// ... handle default</span>
         <span class="keywordflow">return</span> <span class="keyword">self</span>;
     }
 }
</pre></div> <dl class="since"><dt><b>Since:</b></dt><dd>1.0 </dd></dl>

</div>
</div>
<a class="anchor" id="aa67473d64df2d85d33383e893be8374e"></a><!-- doxytag: member="BxTransport::serverVars" ref="aa67473d64df2d85d33383e893be8374e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (NSDictionary*) serverVars<code> [read, assign]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="anchor" id="serverVars"></a> This dictionary contains useful variables provided by the server. Frequently useful keys include: REMOTE_ADDR, REQUEST_URI, HTTP_USER_AGENT, and SERVER_PORT</p>
<p>Example outputting all available server variables: </p>
<div class="fragment"><pre class="fragment"> - (id)renderWithTransport:(<a class="code" href="interface_bx_transport.html" title="Handles communication with HTTP client.">BxTransport</a> *)transport {
     [transport write:[transport.<a class="code" href="interface_bx_transport.html#aa67473d64df2d85d33383e893be8374e">serverVars</a> description]];
     <span class="keywordflow">return</span> <span class="keyword">self</span>;
 }
</pre></div> <dl class="since"><dt><b>Since:</b></dt><dd>1.0 </dd></dl>

</div>
</div>
<a class="anchor" id="add353ffa449ec284fca3458c6e718d2b"></a><!-- doxytag: member="BxTransport::state" ref="add353ffa449ec284fca3458c6e718d2b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (NSMutableDictionary*) state<code> [read, assign]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="anchor" id="state"></a> This dictionary is intended for containing state during the usage of the <a class="el" href="interface_bx_transport.html" title="Handles communication with HTTP client.">BxTransport</a> instance. Because the <a class="el" href="interface_bx_transport.html" title="Handles communication with HTTP client.">BxTransport</a> is created and released for an individual client connection, the main use of this property is for convenience in packaging additional <a class="el" href="interface_bx_transport.html" title="Handles communication with HTTP client.">BxTransport</a> variables without having to subclass <a class="el" href="interface_bx_transport.html" title="Handles communication with HTTP client.">BxTransport</a>, which is not advised.</p>
<p>Example of using state to relay information to another method: </p>
<div class="fragment"><pre class="fragment"> <span class="keyword">@implementation </span>MyController
 + (id)logExtraInfo:(<a class="code" href="interface_bx_transport.html" title="Handles communication with HTTP client.">BxTransport</a> *)transport {
     MyInfo *extraInfo = [transport.state objectForKey:@&quot;extraInfo&quot;];
     <span class="comment">// ... perform global logging using extraInfo</span>
 }
 <span class="keyword">@end</span>
 
 <span class="keyword">@implementation </span>MyHandler
 - (id)renderWithTransport:(<a class="code" href="interface_bx_transport.html" title="Handles communication with HTTP client.">BxTransport</a> *)transport {
     MyInfo *extraInfo;
     <span class="comment">// ... complex process sets extraInfo from transport data</span>
     [MyController logExtraInfo:extraInfo];
     <span class="keywordflow">return</span> <span class="keyword">self</span>;
 }
 <span class="keyword">@end</span> 
</pre></div> <dl class="since"><dt><b>Since:</b></dt><dd>1.0 </dd></dl>

</div>
</div>
<a class="anchor" id="a06e64ed93588f3afb03c0afa1ade82f2"></a><!-- doxytag: member="BxTransport::uploadedFiles" ref="a06e64ed93588f3afb03c0afa1ade82f2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (NSArray*) uploadedFiles<code> [read, assign]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="anchor" id="uploadedFiles"></a> If any files were uploaded in POST variables, they are included here as <a class="el" href="interface_bx_file.html" title="Contains information about uploaded POST files.">BxFile</a> instances. Example as BXML that allows uploading a file and then showing information about it: </p>
<div class="fragment"><pre class="fragment"> &lt;html&gt;
  &lt;body&gt;
   &lt;? 
    <span class="keywordflow">if</span> ([_.uploadedFiles count] &gt; 0) {
        <a class="code" href="interface_bx_file.html" title="Contains information about uploaded POST files.">BxFile</a> *file = [uploadedFiles objectAtIndex:0];
        [_ writeFormat:@&quot;filename:%@ length:%d mimetype:%@&quot;, file.fileName, file.length, file.mimeType];
    } <span class="keywordflow">else</span> {
   ?&gt;
    &lt;form method=<span class="stringliteral">&quot;POST&quot;</span>&gt;
     &lt;input type=<span class="stringliteral">&quot;file&quot;</span> name=<span class="stringliteral">&quot;thefile&quot;</span> /&gt;
     &lt;input type=<span class="stringliteral">&quot;submit&quot;</span> /&gt;
    &lt;/form&gt;
   &lt;?
    }
   ?&gt;
  &lt;/body&gt;
 &lt;/html&gt;
</pre></div> <dl class="since"><dt><b>Since:</b></dt><dd>1.0 </dd></dl>

</div>
</div>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Properties</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</body>
</html>
